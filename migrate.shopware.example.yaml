# Example configuration for migrate.sh (Shopware)
# Copy this file and adjust values as needed.

source_domain: "example.com"
dest_domain: "staging.example.com"
proceed: true

# Database migration settings
# If db.migrate is false, database migration is skipped.
db:
  migrate: true
  method: "python"
  update_sales_channel_url: true
  # If true, use source DB details from source_domain/.env(.local)
  # If false, use the values below
  source_from_env: true
  source:
    host: "localhost"
    port: 3306
    name: "source_db"
    user: "source_user"
    password: "source_password"
  dest:
    host: "localhost"
    port: 3306
    name: "dest_db"
    user: "dest_user"
    password: "dest_password"

file_copy:
  delete_existing: false
  # Comma-separated paths to exclude from copy
  exclude_paths: "var/cache,var/log,var/sessions,public/var/cache,node_modules,var/theme,public/theme,public/media"
  # If true and dest already has public/media, keep it and rsync incrementally
  incremental_media: true

env_update:
  update_domains: true
